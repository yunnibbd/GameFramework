{"version":3,"sources":["file:///E:/code/cocos/zhl/GameFramework/assets/Scrpts/Main.ts"],"names":["_decorator","Component","decodeHead","encodeHead","ccclass","property","Main","start","client","WebSocket","onopen","schedule","head","begin","end","send","onmessage","event","data","console","log","text","ret","update","deltaTime"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;;AACPC,MAAAA,U,iBAAAA,U;AAAYC,MAAAA,U,iBAAAA,U;;;;;;;;;OACpB;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;sBAGjBM,I,WADZF,OAAO,CAAC,MAAD,C,gBAAR,MACaE,IADb,SAC0BL,SAD1B,CACoC;AAChCM,QAAAA,KAAK,GAAG;AAEJ,cAAIC,MAAM,GAAG,IAAIC,SAAJ,CAAc,qBAAd,CAAb;;AAEAD,UAAAA,MAAM,CAACE,MAAP,GAAgB,MAAI;AAChB,iBAAKC,QAAL,CAAc,MAAI;AACd,kBAAIC,IAAS,GAAG;AACZC,gBAAAA,KAAK,EAAE,CADK;AAEZC,gBAAAA,GAAG,EAAE;AAFO,eAAhB;AAIAN,cAAAA,MAAM,CAACO,IAAP,CAAY;AAAA;AAAA,4CAAWH,IAAX,CAAZ;AACH,aAND,EAMG,CANH;AAOH,WARD;;AAUAJ,UAAAA,MAAM,CAACQ,SAAP,GAAmB,MAAMC,KAAN,IAAc;AAC7B,gBAAIC,IAAI,GAAGD,KAAK,CAACC,IAAjB;AACAC,YAAAA,OAAO,CAACC,GAAR,CAAY,MAAMF,IAAI,CAACG,IAAL,EAAlB;AACA,gBAAIC,GAAQ,GAAG;AAAA;AAAA,0CAAWJ,IAAX,CAAf;AACAC,YAAAA,OAAO,CAACC,GAAR,CAAa,WAAUE,GAAG,CAACT,KAAM,QAAOS,GAAG,CAACR,GAAI,EAAhD;AACH,WALD;AAMH;;AAEDS,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AAzB+B,O","sourcesContent":["import { _decorator, Component, Node } from 'cc';\nimport {Head, decodeHead, encodeHead} from \"./Untitle\";\nconst { ccclass, property } = _decorator;\n\n@ccclass('Main')\nexport class Main extends Component {\n    start() {\n\n        let client = new WebSocket(\"ws://127.0.0.1:9002\");\n\n        client.onopen = ()=>{\n            this.schedule(()=>{\n                let head:Head = {\n                    begin: 1,\n                    end: 2\n                };\n                client.send(encodeHead(head));\n            }, 1);\n        };\n\n        client.onmessage = async(event)=>{\n            let data = event.data;\n            console.log(await data.text());\n            let ret:Head = decodeHead(data);\n            console.log(`从服务端接收消息${ret.begin} === ${ret.end}`);\n        };\n    }\n\n    update(deltaTime: number) {\n        \n    }\n}\n\n"]}